(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["STLCloseupCarouselCommon"],{"49PI":function(e,t,a){a.r(t);var i=a("q1tI"),n=a.n(i),o=a("wFMO"),r=a("Ye/N"),c=a("gYog"),l=a("3gA6"),s=a("I7CA"),m=a("vcEN"),d=a("7wXf"),p=a("NIbZ"),u=a("6Twl"),g=a("Zxas"),b=a("Warx"),h=a("0nTG"),y=a("U4JR"),_=a("mVz+"),E=a("n6mq");const k={visualOverlay:{backgroundColor:"#000",opacity:_.k}};function w(e){const[t,a]=Object(i.useState)(!1),o=Object(i.useCallback)(()=>a(!0),[a]),r=Object(i.useCallback)(()=>a(!1),[a]),{link:c,pin:w,onClick:v}=e,f=_.o,L=_.n,{description:O,domain:x,title:j,buyable_product:S,id:C,link:I,rich_summary:T,images:{"474x":{height:P,width:D,url:N}}}=w,A=j||S&&S.title||T&&T.display_name,z=Object(h.b)(w),H=z&&Object(b.a)(z,{maxLength:f/_.j});return n.a.createElement(E.c,{width:f,position:"relative",onMouseEnter:o,onMouseLeave:r},n.a.createElement(E.c,{position:"relative"},n.a.createElement(l.b,{to:c,onClick:v},n.a.createElement(E.v,{shape:"rounded",height:L,width:f,wash:!0},n.a.createElement(E.q,{alt:A||O,naturalHeight:P,naturalWidth:D,src:N,fit:"cover"}),t&&n.a.createElement(m.a,{visibility:"visible"},n.a.createElement(s.a,{additionalStyles:k.visualOverlay})))),n.a.createElement(E.c,{position:"absolute",margin:2,left:!0,right:!0,top:!0},n.a.createElement(d.a,{pin:w,allowShoppingPriceIndicator:!0})),t&&n.a.createElement(E.c,{display:"flex",position:"absolute",margin:3,left:!0,right:!0,bottom:!0},I&&n.a.createElement(u.a,{pinId:C,sourceUrl:I,domain:x,sourceLinkStyle:"icon-only",maxWidth:f,onClick:()=>{const{componentType:t,viewData:a,viewType:i,viewParameter:n}=e;Object(y.a)(12,{component:t,objectId:C,view:i,viewParameter:n,viewData:a})}}))),n.a.createElement(l.b,{to:c,onClick:v,stopPropagation:!0},n.a.createElement(p.a,{buyableProduct:S,pinDescription:O&&Object(g.a)(O.trim(),_.f)||"",pinTitle:A&&Object(g.a)(A.trim(),_.f)||"",richSummary:T,merchantName:H})))}var v=a("vvax"),f=a("zLLH"),L=a("7jH2");function O(e){const{taggedObjectsStory:t,pin:a}=e,{data:i,isLoaded:s}=t,{aggregated_pin_data:m={}}=a;if(!s)return n.a.createElement(E.c,{paddingY:6},n.a.createElement(E.H,{accessibilityLabel:r.a._("Loading Shop the Look","Loading message for Shop the Look on Closeup"),show:!0}));const d=()=>{Object(y.a)(101,{view:3,component:85,element:10479,commerce_data:JSON.stringify({pin_is_shop_the_look:m.is_shop_the_look,pin_is_stela:m.is_stela})})};if(!i||0===i.length)return null;const p=i.map(t=>{const{id:i,objects:s,title:m}=t,p=s.filter(e=>"pin"===e.type),u=m&&s.find(e=>"user"===e.type&&e.id===m.args[0].id),g=u&&u.username||"",b=p.map((t,i)=>n.a.createElement(c.a,{key:`carousel-impression-key-${i}`,impressionType:"Pin",impressionAuxFields:{richTypes:Object(h.c)(t),imageURL:t.images&&t.images["236x"].url},loggingId:t.id,slotIndex:i,viewData:{pin_id:a.id},viewType:3,viewParameter:Object(L.d)(Object(L.p)(e)),componentType:13160},n.a.createElement(w,{link:`/pin/${t.id}/`,onClick:d,pin:t,viewData:{pin_id:a.id},viewType:3,viewParameter:Object(L.d)(Object(L.p)(e)),componentType:13160})));return n.a.createElement(E.c,{key:i},n.a.createElement(E.c,{"data-test-id":"shop-the-look",marginBottom:4,marginTop:10},n.a.createElement(E.L,{weight:"bold",size:"xl"},r.a._("Shop the look","Shop the Look from user text on closeup")),m&&m.args[0]&&n.a.createElement(E.L,null,Object(v.b)(r.a._("from {{ pinnerName }}","Shows who owns the products tagged in this Pin, on closeup"),{pinnerName:n.a.createElement(l.b,{key:"pinner",to:`/${g}/`},n.a.createElement(E.L,{inline:!0,weight:"bold"},m.args[0].text))}))),n.a.createElement(o.a,{accessibilityBackLabel:r.a._("Previous product","Label for previous product in shop the look"),accessibilityForwardLabel:r.a._("Next product","Label for next product in shop the look"),columnWidth:_.o,gutterWidth:_.h,hideArrows:!0,items:b}))});return n.a.createElement(E.c,null,p)}a.d(t,"STLCloseupCarousel",(function(){return O})),a.d(t,"topTaggedObjectsResourceOptions",(function(){return x}));const x=(e,t)=>({pinId:e,isSTL:t});t.default=Object(f.c)({name:"VisualLinkTopTaggedObjectsResource",key:"taggedObjectsStory",options:({pin:e})=>x(e.id,!(!e.aggregated_pin_data||!e.aggregated_pin_data.is_shop_the_look))})(O)},"6Twl":function(e,t,a){a.d(t,"a",(function(){return p}));var i=a("q1tI"),n=a.n(i),o=a("Ye/N"),r=a("8BHY"),c=a("3gA6"),l=a("n6mq");const s={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"18px",height:"32px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},text:{color:"#333333"}},m=72,d=58;function p({pinId:e,sourceUrl:t,domain:a,onClick:p,sourceLinkStyle:u,maxWidth:g}){const[b,h]=Object(i.useState)(!1),y=Object(i.useCallback)(()=>h(!0),[h]),_=Object(i.useCallback)(()=>h(!1),[h]),E=2*g/3;return E<m&&(u="icon-only"),"icon-only"===u?n.a.createElement(c.b,{onClick:p,pinId:e,to:t},n.a.createElement(r.a,{accessibilityLabel:o.a._("link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",iconSize:12,size:E>d?"sm":"xs"})):n.a.createElement(l.c,{dangerouslySetInlineStyle:{__style:{...s.container,...b?s.containerHovered:{}}},onMouseEnter:y,onMouseLeave:_,position:"relative",maxWidth:E},n.a.createElement(c.b,{onClick:p,pinId:e,to:t},n.a.createElement(l.c,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:s.text},display:"flex",justifyContent:"between"},n.a.createElement(l.c,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},n.a.createElement(l.n,{accessibilityLabel:o.a._("link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),n.a.createElement(l.c,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden"},n.a.createElement(l.L,{color:"darkGray",size:"sm",weight:"bold",truncate:!0},a)))))}},NIbZ:function(e,t,a){a.d(t,"a",(function(){return u}));var i=a("q1tI"),n=a("mwIZ"),o=a.n(n),r=a("/90Z"),c=a("n6mq");const[l,s,m,d]=[1,2,3,4],p={[l]:"In stock",[s]:"Out of stock",[m]:"Preorder",[d]:"Unavailable"};function u(e){const{buyableProduct:t,hideAvailability:a,merchantName:n,pinDescription:m,pinTitle:d,richSummary:u,showProductIcon:g,showPrice:b,showDescription:h}=e,{is_available:y,display_active_min_price:_,display_active_max_price:E}=t||{},k=_===E?_:`${_} - ${E}`,w=o()(u,["products","0","offer_summary","price"]),v=k||w,f=y?l:s,L=o()(u,["products","0","offer_summary","availability"]),O=t&&null!=y?f:L,x=!a&&p[O];return i.createElement(c.c,{marginTop:1},g&&i.createElement(c.c,{paddingY:1,display:"flex"},i.createElement(r.a,{text:n,icon:"tag"})),!!v&&b&&i.createElement(c.c,{display:"flex",paddingY:1},i.createElement(c.c,{marginRight:2},i.createElement(c.L,{size:"sm"},v)),x&&O===s&&i.createElement(c.L,{size:"sm",color:"gray"},x)),h&&i.createElement(c.c,{paddingY:1},i.createElement(c.L,{size:"sm",weight:"bold"},d||m)))}}}]);
//# sourceMappingURL=pjs-STLCloseupCarouselCommon-cb5c1daf96e1f74fcb03.mjs.map
